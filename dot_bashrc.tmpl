#
# ~/.bashrc
#

# =============================================================================
# 共通環境変数読み込み
# =============================================================================
source "${HOME}/.config/shell/env.sh"

# If not running interactively, don't do anything
[[ $- != *i* ]] && return

# =============================================================================
# History 設定
# =============================================================================
HISTFILE="$HOME/.bash_history"    # または任意のパス
HISTSIZE=10000
HISTFILESIZE=10000
HISTCONTROL=ignoredups:erasedups  # 重複を無視・削除
shopt -s histappend               # 履歴を上書きではなく追記

# =============================================================================
# Homebrew
# =============================================================================
{{- if eq .chezmoi.os "darwin" }}
if [[ -f /opt/homebrew/bin/brew ]]; then
    eval "$(/opt/homebrew/bin/brew shellenv)"
elif [[ -f /usr/local/bin/brew ]]; then
    eval "$(/usr/local/bin/brew shellenv)"
fi
{{- else if eq .chezmoi.os "linux" }}
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
{{- end }}

# =============================================================================
# Mise (バージョン管理ツール)
# https://mise.jdx.dev
# =============================================================================
eval "$(mise activate bash)"

# =============================================================================
# fastfetch (system info ツール)
# https://github.com/fastfetch-cli/fastfetch
# =============================================================================
fastfetch

# =============================================================================
# starship (prompt)
# https://starship.rs/
# =============================================================================
eval "$(starship init bash)"

# =============================================================================
# エイリアス読み込み
# =============================================================================
[[ -f "$HOME/.config/shell/alias.sh" ]] && . "$HOME/.config/shell/alias.sh"
