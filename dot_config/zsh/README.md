# Zsh 設定ファイルの一覧

|ファイル|読み込みタイミング|主な役割・目的|設定例|
|---|---|---|---|
|`.zshenv`|**常に**（最初に読み込まれる）|すべてのzshプロセスで必要な環境変数を設定。スクリプト実行時も読み込まれるため、最小限に保つ|`PATH`, `EDITOR`, `LANG`, `PAGER`|
|`.zprofile`|**ログインシェル**のみ（`.zshrc`の前）|ログイン時に1回だけ実行したい処理。bashの`.bash_profile`に相当|ログイン時メッセージ、`eval "$(brew shellenv)"`|
|`.zshrc`|**インタラクティブシェル**のみ|対話的操作に必要な設定。最もよく編集するファイル|エイリアス、プロンプト、補完設定、プラグイン、キーバインド|
|`.zlogin`|**ログインシェル**のみ（`.zshrc`の後）|ログイン後に実行したい処理。`.zprofile`との違いは読み込み順序|`fortune`表示、システム情報表示|
|`.zlogout`|**ログインシェル終了時**|ログアウト時のクリーンアップ処理|一時ファイル削除、`clear`、ログアウトメッセージ|

## 読み込み順序

```
ログインシェル（ターミナル起動時など）:
  .zshenv → .zprofile → .zshrc → .zlogin
                                      ↓（終了時）
                                  .zlogout

非ログイン・インタラクティブシェル（新しいタブなど）:
  .zshenv → .zshrc

スクリプト実行時:
  .zshenv のみ
```

## 使い分けの指針

|設定内容|推奨ファイル|
|---|---|
|`PATH`などの環境変数|`.zshenv`|
|GUI経由でも必要な環境変数|`.zshenv`|
|エイリアス・関数|`.zshrc`|
|プロンプトのカスタマイズ|`.zshrc`|
|補完設定・プラグイン|`.zshrc`|
|ログイン時に1回だけ実行|`.zprofile` または `.zlogin`|
|ログアウト時の後処理|`.zlogout`|

## 注意点

- `.zshenv`は**すべてのzsh起動時**に読み込まれるため、対話的な処理や出力するコードは書かない
- `.zprofile`と`.zlogin`は似た役割だが、`.zprofile`はksh（Kornシェル）からの移行向け、`.zlogin`はcshからの移行向けという歴史的経緯がある
- macOSのターミナルはデフォルトで各タブを**ログインシェル**として起動するため、`.zprofile`も毎回読み込まれる
- `zsh -f`で起動した場合、`~/.zshenv`以降のユーザーファイルは読み込まれない（`/etc/zshenv`のみ）
